# Отчет по цикломатической сложности

## Результаты проверки gocyclo

**Средняя цикломатическая сложность: 4.55** ✅

### Функции с высокой сложностью (>15)

Рекомендуется рефакторинг следующих функций:

1. **GetDirectLinkZIPArchive** (19) - `cloud_client.go:1109`
   - Сложная логика валидации путей и создания ZIP архива
   - Рекомендация: вынести валидацию путей в отдельную функцию

2. **UploadFileFromStream** (18) - `cloud_client.go:853`
   - Множественные проверки и обработка ошибок
   - Рекомендация: разбить на более мелкие функции (валидация, загрузка, обработка ответа)

3. **publishUnpublishInternal** (16) - `cloud_client.go:733`
   - Обработка двух разных операций в одной функции
   - Рекомендация: разделить на отдельные функции для publish и unpublish

4. **Account.Login** (16) - `account.go:50`
   - Множественные шаги авторизации
   - Рекомендация: вынести отдельные шаги в методы (auth, getToken, getRates)

### Функции со средней сложностью (10-15)

Эти функции находятся в допустимых пределах, но могут быть улучшены:

- `DownloadItemsAsZIPArchive` (13)
- `moveOrCopyInternal` (12)
- `createFileOrFolder` (12)
- `Rename` (12)
- `GetFileHistory` (11)
- `RestoreFileFromHistory` (11)
- `GetFileOneTimeDirectLink` (11)

## Рекомендации

1. **Порог сложности**: Обычно рекомендуется держать сложность ниже 15
2. **Рефакторинг**: Функции с высокой сложностью следует разбивать на более мелкие
3. **Тестирование**: Высокая сложность усложняет тестирование

## Команды для проверки

```bash
# Проверка функций с сложностью > 15
gocyclo -over 15 .

# Полный отчет с средней сложностью
gocyclo -avg .

# Через Makefile
make cyclo
```

